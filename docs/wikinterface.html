

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="Wikinterface is an easy-to-use interface for Wikipedia's API." name="description" />
<meta content="Python, Wikipedia" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Wikinterface &mdash; EvenTDT 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Automatic Participant Detection (APD)" href="apd.html" />
    <link rel="prev" title="3. Natural Language Processing (NLP)" href="nlp.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> EvenTDT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config.html">0. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">1. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="vsm.html">2. Vector Space Model (VSM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp.html">3. Natural Language Processing (NLP)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Wikinterface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-wikinterface.info">Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-wikinterface.links">Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-wikinterface.search">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-wikinterface.text">Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apd.html">5. Automatic Participant Detection (APD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tdt.html">6. Topic Detection and Tracking (TDT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="summarization.html">7. Summarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter.html">8. Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="consumers.html">9. Consumers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml.html">10. Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="ate.html">11. Automatic Term Extraction (ATE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">12. Other</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EvenTDT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>4. Wikinterface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/wikinterface.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="wikinterface">
<h1>4. Wikinterface<a class="headerlink" href="#wikinterface" title="Permalink to this headline">¶</a></h1>
<p>Wikinterface is an easy-to-use interface for Wikipedia’s API.</p>
<span class="target" id="module-wikinterface"></span><p>The basic Wikipedia API interface uses the <a class="reference external" href="https://www.mediawiki.org/wiki/API:Main_page">Wikimedia API</a>.
This module makes it easier to access the API.</p>
<dl class="data">
<dt id="wikinterface.API_ENDPOINT">
<code class="sig-name descname">API_ENDPOINT</code><em class="property"> = 'https://en.wikipedia.org/w/api.php?'</em><a class="headerlink" href="#wikinterface.API_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wikinterface.API_ENDPOINT" title="wikinterface.API_ENDPOINT"><strong>API_ENDPOINT</strong></a> (<em>str</em>) – The Wikipedia API endpoint.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.is_error_response">
<code class="sig-name descname">is_error_response</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.is_error_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate whether the given Wikipedia response is an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<em>dict</em>) – The response to validate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean indicating whether the response is valid.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.construct_url">
<code class="sig-name descname">construct_url</code><span class="sig-paren">(</span><em class="sig-param">parameters=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.construct_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the URL using the given parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>dict</em><em> or </em><em>None</em>) – The list of GET parameters to send.
The parameter values can be either strings or booleans.
If a parameter is a boolean and <cite>True</cite>, it is added without a value.
If a parameter is a boolean and <cite>False</cite>, it is excluded altogether</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The URL with any GET parameters provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.revert_redirects">
<code class="sig-name descname">revert_redirects</code><span class="sig-paren">(</span><em class="sig-param">results</em>, <em class="sig-param">redirects</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.revert_redirects" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert redirections.</p>
<p>The function takes in search results with keys as the page titles.
The redirections are those retorned by Wikipedia to redirect these keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results</strong> (<em>dict</em>) – Any results obtained from Wikipedia.
It is assumed that the keys are the page titles.</p></li>
<li><p><strong>redirects</strong> (<em>dict</em>) – The redirects provided by Wikipedia.
This dictionary has keys ‘from’ and ‘to’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new dictionary with redirections.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<div class="section" id="module-wikinterface.info">
<span id="info"></span><h2>Info<a class="headerlink" href="#module-wikinterface.info" title="Permalink to this headline">¶</a></h2>
<p>The info collector fetches information about Wikipedia pages.</p>
<dl class="class">
<dt id="wikinterface.info.ArticleType">
<em class="property">class </em><code class="sig-name descname">ArticleType</code><a class="headerlink" href="#wikinterface.info.ArticleType" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of article.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>NORMAL</strong> (<em>int</em>) – A normal article on Wikipedia.</p></li>
<li><p><strong>DISAMBIGUATION</strong> – An article that could not be resolved,
These articles contain links to other articles.</p></li>
<li><p><strong>MISSING</strong> (<em>int</em>) – No article exists with the given name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.info.types">
<code class="sig-name descname">types</code><span class="sig-paren">(</span><em class="sig-param">titles</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.info.types" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of page each page title returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>titles</strong> (<em>list of str</em><em> or </em><em>str</em>) – The titles of the pages whose types are desired.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with page titles as keys and the types as <a class="reference internal" href="#wikinterface.info.ArticleType" title="wikinterface.info.ArticleType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArticleType</span></code></a> values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.info.is_person">
<code class="sig-name descname">is_person</code><span class="sig-paren">(</span><em class="sig-param">titles</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.info.is_person" title="Permalink to this definition">¶</a></dt>
<dd><p>Go through each page title and check whether it represents a person.
The function assumes that an article is about a person if it mentions a birth date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>titles</strong> (<em>list of str</em><em> or </em><em>str</em>) – The titles of the pages that need to be checked.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with page titles as keys and booleans as values indicating whether the article represents a person.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-wikinterface.links">
<span id="links"></span><h2>Links<a class="headerlink" href="#module-wikinterface.links" title="Permalink to this headline">¶</a></h2>
<p>The link collector collects links from Wikipedia articles.</p>
<dl class="function">
<dt id="wikinterface.links.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><em class="sig-param">titles</em>, <em class="sig-param">separate=True</em>, <em class="sig-param">introduction_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.links.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of outgoing links from the given list of articles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>titles</strong> (<em>list of str</em><em> or </em><em>str</em>) – A list of article titles, or a single article title, from where to fetch links.</p></li>
<li><p><strong>separate</strong> (<em>bool</em>) – A boolean indicating whether the links should be separated according to articles.</p></li>
<li><p><strong>introduction_only</strong> (<em>bool</em>) – A boolean indicating whether the links should be fetched only from the introduction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of outgoing links from the article titles provided.
If the <cite>separate</cite> boolean is <cite>True</cite>, a dictionary is returned.
This dictionary’s keys are the article titles, and the values are lists of outgoing links.
Otherwise, a list of article titles is returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – When the request returns an error response.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.links.collect_recursive">
<code class="sig-name descname">collect_recursive</code><span class="sig-paren">(</span><em class="sig-param">titles</em>, <em class="sig-param">level</em>, <em class="sig-param">collected_links=None</em>, <em class="sig-param">separate=True</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.links.collect_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively fetch links, starting from a seed set.
The function uses the <a class="reference internal" href="#wikinterface.links.collect" title="wikinterface.links.collect"><code class="xref py py-func docutils literal notranslate"><span class="pre">collect()</span></code></a> function.
Any additional arguments and keyword arguments are passed on to it.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is a very expensive operation as it grows exponentially.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>titles</strong> (<em>list of str</em><em> or </em><em>str</em>) – The articles from where to start (or continue) looking.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – The current level.
If the level is 1, the links are fetched once and the function returns.</p></li>
<li><p><strong>collected_links</strong> (<em>list of str</em><em> or </em><em>None</em>) – Any links that have already been collected.</p></li>
<li><p><strong>separate</strong> (<em>bool</em>) – A boolean indicating whether the links should be separated according to articles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of links if they should not be separated.
If they are, the links are returned separated by the page in which they appear.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict or list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When the level is not positive.</p></li>
<li><p><strong>ValueError</strong> – When the level is not an integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.links._get_intro_links">
<code class="sig-name descname">_get_intro_links</code><span class="sig-paren">(</span><em class="sig-param">page</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.links._get_intro_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of outgoing links from the introduction of the given page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>page</strong> (<em>dict</em>) – The page from where to get the introduction.
The function expects a <cite>revisions</cite> key containing the text of the latest revision.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of outgoing links found in the given text.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – when no revisions are found in the page.</p></li>
<li><p><strong>ValueError</strong> – when no text is found in the revision.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wikinterface.links._get_all_links">
<code class="sig-name descname">_get_all_links</code><span class="sig-paren">(</span><em class="sig-param">page</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.links._get_all_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of outgoing links from the given page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>page</strong> (<em>dict</em>) – The page from where to get the text.
The function expects a <cite>links</cite> key containing the list of links in the article</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of outgoing links found in the given text.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-wikinterface.search">
<span id="search"></span><h2>Search<a class="headerlink" href="#module-wikinterface.search" title="Permalink to this headline">¶</a></h2>
<p>The search collector is used to look for articles containing a particular list of terms.</p>
<dl class="function">
<dt id="wikinterface.search.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><em class="sig-param">terms</em>, <em class="sig-param">limit=10</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.search.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for pages containing the given terms.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The search API is often overloaded and fails.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>terms</strong> (<em>list of str</em><em> or </em><em>str</em>) – The search terms.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – The number of search results to return.
Wikipedia limits the results to 50, but the collector can fetch more.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of search results in the form of page titles.
Their content can be fetched using these titles.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When the limit is not a positive number.</p></li>
<li><p><strong>ValueError</strong> – When the limit is not an integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-wikinterface.text">
<span id="text"></span><h2>Text<a class="headerlink" href="#module-wikinterface.text" title="Permalink to this headline">¶</a></h2>
<p>Wikipedia articles are predominantly made up of text.
This module contains functions to help extract that text from articles.</p>
<dl class="function">
<dt id="wikinterface.text.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><em class="sig-param">titles</em>, <em class="sig-param">introduction_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wikinterface.text.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the plain text content of the pages having the given titles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>titles</strong> (<em>list of str</em><em> or </em><em>str</em>) – The titles of the pages from where to get the plain text.</p></li>
<li><p><strong>introduction_only</strong> (<em>bool</em>) – A boolean indicating whether to get only the introduction’s text.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with page titles as keys and the text as values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – When the request returns an error response.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="apd.html" class="btn btn-neutral float-right" title="5. Automatic Participant Detection (APD)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nlp.html" class="btn btn-neutral float-left" title="3. Natural Language Processing (NLP)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Nicholas Mamo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>