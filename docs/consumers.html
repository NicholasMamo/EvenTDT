

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="The consumer functionality of EvenTDT" name="description" />
<meta content="Python, TDT, queue, consumer" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Consumers &mdash; EvenTDT 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. Other" href="other.html" />
    <link rel="prev" title="7. Summarization" href="summarization.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> EvenTDT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config.html">0. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">1. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="vsm.html">2. Vector Space Model (VSM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp.html">3. Natural Language Processing (NLP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="wikinterface.html">4. Wikinterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="apd.html">5. Automatic Participant Detection (APD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tdt.html">6. Topic Detection and Tracking (TDT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="summarization.html">7. Summarization</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Consumers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#queues">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Consumers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="other.html">9. Other</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EvenTDT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>8. Consumers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/consumers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="consumers">
<h1>8. Consumers<a class="headerlink" href="#consumers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="queues">
<h2>Queues<a class="headerlink" href="#queues" title="Permalink to this headline">¶</a></h2>
<p>EvenTDT collects tweets and processes them.
In-between collecting and processing, the tweets go into a queue data structure.
In this way, the consumers can process the data in the same order as it was received.
The queue functionality is a special class.</p>
<span class="target" id="module-queues.queue.queue"></span><p>Queues are first in, first out (FIFO) data structures.
This implementation is based on lists.
Queue-specific functionality is introduced as functions.</p>
<dl class="class">
<dt id="queues.queue.queue.Queue">
<em class="property">class </em><code class="sig-name descname">Queue</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue" title="Permalink to this definition">¶</a></dt>
<dd><p>The queue data structure is based on a list.
The queue can take in any kind of data, including other queues.
New elements are added to the queue at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><a class="reference internal" href="#module-queues.queue.queue" title="queues.queue.queue"><strong>queue</strong></a> (<em>list</em>) – The queue data structure.</p>
</dd>
</dl>
<dl class="method">
<dt id="queues.queue.queue.Queue.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the queue.
The queue’s data can be given as normal arguments.</p>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.enqueue">
<code class="sig-name descname">enqueue</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.enqueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given data to the queue.
All arguments can be provided as arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – When no data is given.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.dequeue">
<code class="sig-name descname">dequeue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.dequeue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the first element in the queue.
If the queue is empty, <cite>None</cite> is returned instead</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The first element in the queue.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.dequeue_all">
<code class="sig-name descname">dequeue_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.dequeue_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Dequeue all elements in the queue.
Unlike the <a class="reference internal" href="#queues.queue.queue.Queue.empty" title="queues.queue.queue.Queue.empty"><code class="xref py py-func docutils literal notranslate"><span class="pre">empty()</span></code></a> function, this function returns all of the queue’s elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>All the elements in the queue.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.empty">
<code class="sig-name descname">empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty the queue.
Unlike the <a class="reference internal" href="#queues.queue.queue.Queue.dequeue_all" title="queues.queue.queue.Queue.dequeue_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">dequeue_all()</span></code></a> function, this function returns nothing.</p>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.length">
<code class="sig-name descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the length of the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The length of the queue.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.head">
<code class="sig-name descname">head</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the first element entered into the queue without removing it.
If the queue is empty, <cite>None</cite> is returned instead</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The oldest element in the queue.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.queue.queue.Queue.tail">
<code class="sig-name descname">tail</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.queue.queue.Queue.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last element entered into the queue without removing it.
If the queue is empty, <cite>None</cite> is returned instead</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The newest element in the queue.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="queues.queue.queue.Queue.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#queues.queue.queue.Queue.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id1">
<h2>Consumers<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Queue data is consumed by consumers.
Each consumer dequeues the accumulated data and processes it or outputs it.</p>
<span class="target" id="module-queues.consumers.consumer"></span><p>All consumers follow a simple workflow.
After initialization with a queue, the consumer can be run using the <a class="reference internal" href="#queues.consumers.consumer.Consumer.run" title="queues.consumers.consumer.Consumer.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> function.
That function prepares to start consuming the queue and calls the <a class="reference internal" href="#queues.consumers.consumer.Consumer._consume" title="queues.consumers.consumer.Consumer._consume"><code class="xref py py-func docutils literal notranslate"><span class="pre">_consume()</span></code></a> function.</p>
<p>Consumers have two other state variables apart from the queue: the <cite>active</cite> and <cite>stopped</cite> variables.
The <cite>active</cite> variable indicates whether the consumer is still accepting objects.
The <cite>stopped</cite> variable indicates whether the consumer has finished consuming all objects.
Generally, consumers keep accepting objects until the <cite>active</cite> variable is disabled.
At that point, they process the last objects and set the <cite>stopped</cite> flag to <cite>True</cite>.</p>
<dl class="class">
<dt id="queues.consumers.consumer.Consumer">
<em class="property">class </em><code class="sig-name descname">Consumer</code><span class="sig-paren">(</span><em class="sig-param">queue</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer" title="Permalink to this definition">¶</a></dt>
<dd><p>The abstract Consumer class outlines the necessary functions of a consumer.
It also defines the state of the consumer.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#module-queues.queue.queue" title="queues.queue.queue"><strong>queue</strong></a> (<a class="reference internal" href="#queues.queue.queue.Queue" title="queues.queue.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>) – The queue that is to be consumed.</p></li>
<li><p><strong>active</strong> (<em>bool</em>) – A boolean indicating whether the consumer is still accepting data.</p></li>
<li><p><strong>stopped</strong> (<em>bool</em>) – A boolean indicating whether the consumer has finished processing.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="queues.consumers.consumer.Consumer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">queue</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Consumer with its queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>queue</strong> – The queue that will be consumed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.consumer.Consumer.run">
<em class="property">async </em><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">wait=0</em>, <em class="sig-param">max_time=3600</em>, <em class="sig-param">max_inactivity=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke the consume method.
Since some listeners have a small delay, the consumer waits a bit before starting to consume input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wait</strong> (<em>int</em>) – The time in seconds to wait until starting to understand the event.
This is used when the file listener spends a lot of time skipping documents.</p></li>
<li><p><strong>max_time</strong> (<em>int</em>) – The maximum time in seconds to spend consuming the queue.
It may be interrupted if the queue is inactive for a long time.</p></li>
<li><p><strong>max_inactivity</strong> (<em>int</em>) – The maximum time in seconds to wait idly without input before stopping.
If it is negative, the consumer keeps waiting for input until the maximum time expires.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The output of the consume method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.consumer.Consumer._consume">
<em class="property">abstract async </em><code class="sig-name descname">_consume</code><span class="sig-paren">(</span><em class="sig-param">max_time</em>, <em class="sig-param">max_inactivity</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer._consume" title="Permalink to this definition">¶</a></dt>
<dd><p>Consume the queue.
This is the function where most processing occurs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_time</strong> (<em>int</em>) – The maximum time in seconds to spend consuming the queue.
It may be interrupted if the queue is inactive for a long time.</p></li>
<li><p><strong>max_inactivity</strong> (<em>int</em>) – The maximum time in seconds to wait idly without input before stopping.
If it is negative, the consumer keeps waiting for input until the maximum time expires.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.consumer.Consumer._wait_for_input">
<em class="property">async </em><code class="sig-name descname">_wait_for_input</code><span class="sig-paren">(</span><em class="sig-param">max_inactivity</em>, <em class="sig-param">sleep=0.25</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer._wait_for_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for input from the queue.
When input is received, the function returns True.
If no input is found for the given number of seconds, the function returns False.
If the maximum inactivity is negative, it is disregarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_inactivity</strong> (<em>int</em>) – The maximum time in seconds to wait idly without input before stopping.
If it is negative, it is ignored.</p></li>
<li><p><strong>sleep</strong> (<em>float</em>) – The number of seconds to sleep while waiting for input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean indicating whether the consumer should continue, or whether it has been idle for far too long.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.consumer.Consumer.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.consumer.Consumer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a flag to stop accepting new objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contrary to the name of the function, the function sets the <cite>active</cite> flag, not the <cite>stopped</cite> flag.
This function merely asks that the consumer stops accepting new objects for processing.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="queues.consumers.consumer.Consumer.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#queues.consumers.consumer.Consumer.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-queues.consumers.buffered_consumer"></span><p>A buffered consumer processes content in batches.</p>
<dl class="class">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer">
<em class="property">class </em><code class="sig-name descname">BufferedConsumer</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">periodicity</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>The buffered consumer adds the processing stage apart from the consumption.
The <a class="reference internal" href="#queues.consumers.buffered_consumer.BufferedConsumer._consume" title="queues.consumers.buffered_consumer.BufferedConsumer._consume"><code class="xref py py-func docutils literal notranslate"><span class="pre">_consume()</span></code></a> function function waits until objects become available in the queue.
The <a class="reference internal" href="#queues.consumers.buffered_consumer.BufferedConsumer._process" title="queues.consumers.buffered_consumer.BufferedConsumer._process"><code class="xref py py-func docutils literal notranslate"><span class="pre">_process()</span></code></a> function empties this buffer and processes it.
The two functions communicate with each other using a common queue, called a buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>periodicity</strong> (<em>int</em>) – The time window in seconds of the buffered consumer, or how often it is invoked.</p></li>
<li><p><strong>buffer</strong> (<a class="reference internal" href="#queues.queue.queue.Queue" title="queues.queue.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>) – The buffer of objects that have to be processed.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">periodicity</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the buffered consumer with its queue and periodicity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (<a class="reference internal" href="#queues.queue.queue.Queue" title="queues.queue.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>) – The queue that is consumed.</p></li>
<li><p><strong>periodicity</strong> (<em>int</em>) – The time window in seconds of the buffered consumer, or how often it is invoked.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer.run">
<em class="property">async </em><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">wait=0</em>, <em class="sig-param">max_time=3600</em>, <em class="sig-param">max_inactivity=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes the consume and process method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wait</strong> (<em>int</em>) – The time in seconds to wait until starting to understand the event.
This is used when the file listener spends a lot of time skipping documents.</p></li>
<li><p><strong>max_time</strong> (<em>int</em>) – The maximum time in seconds to spend consuming the queue.
It may be interrupted if the queue is inactive for a long time.</p></li>
<li><p><strong>max_inactivity</strong> (<em>int</em>) – The maximum time in seconds to wait idly without input before stopping.
If it is negative, the consumer keeps waiting for input until the maximum time expires.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The output of the consume method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer._consume">
<em class="property">abstract async </em><code class="sig-name descname">_consume</code><span class="sig-paren">(</span><em class="sig-param">max_time</em>, <em class="sig-param">max_inactivity</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer._consume" title="Permalink to this definition">¶</a></dt>
<dd><p>Consume the queue.
This function calls for processing in turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_time</strong> (<em>int</em>) – The maximum time in seconds to spend consuming the queue.
It may be interrupted if the queue is inactive for a long time.</p></li>
<li><p><strong>max_inactivity</strong> (<em>int</em>) – The maximum time in seconds to wait idly without input before stopping.
If it is negative, the consumer keeps waiting for input until the maximum time expires.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer._process">
<em class="property">abstract async </em><code class="sig-name descname">_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer._process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the buffered items.</p>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.buffered_consumer.BufferedConsumer._sleep">
<em class="property">async </em><code class="sig-name descname">_sleep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.BufferedConsumer._sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep until the window is over.
At this point, the queue is emptied into a buffer for processing.
The function periodically checks if the consumer has been asked to stop.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="queues.consumers.buffered_consumer.SimulatedBufferedConsumer">
<em class="property">class </em><code class="sig-name descname">SimulatedBufferedConsumer</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">periodicity</em>, <em class="sig-param">timestamp='timestamp'</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.SimulatedBufferedConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>The simulated buffered consumer is exactly like the buffered consumer, but its periodicity is not real-time.
Instead, it gets the time from the incoming message.
This class can be used in a simulated environment, such as when data has been collected.
In this case, it allows the data to be consumed at the rate that it is read.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>timestamp</strong> (<em>str</em>) – The name of the vector attribute used to get the timestamp value.
The time value is expected to be a float or integer.</p>
</dd>
</dl>
<dl class="method">
<dt id="queues.consumers.buffered_consumer.SimulatedBufferedConsumer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">periodicity</em>, <em class="sig-param">timestamp='timestamp'</em><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.SimulatedBufferedConsumer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the simulated buffered consumer with its queue, periodicity and buffer.
The timestamp parameter is the field that the sleep function checks to know when it should awake.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (<a class="reference internal" href="#queues.queue.queue.Queue" title="queues.queue.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>) – The queue that is consumed.</p></li>
<li><p><strong>periodicity</strong> (<em>int</em>) – The time window in seconds of the buffered consumer, or how often it is invoked.</p></li>
<li><p><strong>timestamp</strong> (<em>str</em>) – The name of the vector attribute used to get the timestamp value.
The time value is expected to be a float or integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="queues.consumers.buffered_consumer.SimulatedBufferedConsumer._sleep">
<em class="property">async </em><code class="sig-name descname">_sleep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#queues.consumers.buffered_consumer.SimulatedBufferedConsumer._sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep until the window is over.
At this point, the queue is emptied into a buffer for processing.
The function periodically checks if the consumer has been asked to stop.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="other.html" class="btn btn-neutral float-right" title="9. Other" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="summarization.html" class="btn btn-neutral float-left" title="7. Summarization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Nicholas Mamo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>